# `w-multipart-dump`

<br>

This app serves a file upload form at
[http://localhost:8080](http://localhost:8080). When the form is submitted, it
echoes the POST request's body back to the client. It is useful for inspecting
the `multipart/form-data` bodies generated by browsers and other clients.
Typical output looks like this:

```
-----------------------------93305614438608943083584353087
Content-Disposition: form-data; name="dream.csrf"

AB_DVzPgMFOp8CvuU-cIsI56xNRyQjb9f2mc1qyQXfmBSvCz8I8y1vtgbEZ-_vGic8Z8YXq0A2DCrOelEpqUdl57-Cia5kp-TASRtG6Wc_Yu
-----------------------------93305614438608943083584353087
Content-Disposition: form-data; name="files"; filename="dune"
Content-Type: application/octet-stream

(executable
 (name multipart_dump)
 (libraries dream)
 (preprocess (pps lwt_ppx)))

(rule
 (targets multipart_dump.ml)
 (deps multipart_dump.eml.ml)
 (action (run dream_eml %{deps} --workspace %{workspace_root})))

-----------------------------93305614438608943083584353087
Content-Disposition: form-data; name="files"; filename="dune-project"
Content-Type: application/octet-stream

(lang dune 2.0)

-----------------------------93305614438608943083584353087--
```

<pre><code><b>$ cd example/w-multipart-dump</b>
<b>$ opam install --deps-only --yes .</b>
<b>$ dune exec --root . ./multipart_dump.exe</b></code></pre>

<br>

Some useful commands:

```
curl -F 'upload=@dune-project' http://localhost:8080/
curl -F 'upload=@-' http://localhost:8080/
curl -F 'upload=@-;filename=' http://localhost:8080/
curl -F 'a=b' http://localhost:8080/
```

<br>

**See also:**

- [**`g-upload`**](../g-upload#folders-and-files) is the proper file upload example.
- [**`6-echo`**](../6-echo#folders-and-files) is a proper echo example :)

<br>

[Up to the example index](../#examples)
