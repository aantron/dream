(data_only_dirs *)


(subdir gluten/lib
 (library
  (name dream_gluten)
  (public_name dream-httpaf.dream-gluten)
  (libraries
   bigstringaf
   faraday
   ke
  )))

(subdir gluten/eio
 (library
  (name dream_gluten_eio)
  (public_name dream-httpaf.dream-gluten-eio)
  (libraries
   dream-httpaf.dream-gluten
   unix
   eio
   eio.unix
   bigstringaf
  )))



(subdir httpaf/lib
 (library
  (name dream_httpaf_)
  (public_name dream-httpaf.dream-httpaf_)
  (libraries
   angstrom
   bigstringaf
   faraday
  )))

(subdir httpaf/eio
 (library
  (name dream_httpaf__eio)
  (public_name dream-httpaf.dream-httpaf_-eio)
  (libraries
    dream-httpaf.dream-httpaf_
    eio
    dream-httpaf.dream-gluten
    dream-httpaf.dream-gluten-eio
  )))



(subdir websocketaf/lib
 (library
  (name dream_websocketaf)
  (public_name dream-httpaf.dream-websocketaf)
  (libraries
   angstrom
   base64
   bigstringaf
   faraday
   dream-httpaf.dream-gluten
   dream-httpaf.dream-httpaf_
   result
  )))



(subdir h2/hpack/util
 (executables
  (names gen_huffman gen_static)
  (libraries
   compiler-libs.common
  )))

(subdir h2/hpack/src
 (library
  (name dream_hpack)
  (public_name dream-httpaf.dream-hpack)
  (libraries
   angstrom
   faraday
  ))
 (rule
  (targets huffman_table.ml)
  (deps ../util/huffman_table.txt)
  (action
   (with-stdout-to
    %{targets}
    (run ../util/gen_huffman.exe %{deps})))))

(subdir h2/lib
 (library
  (name dream_h2)
  (public_name dream-httpaf.dream-h2)
  (libraries
   angstrom
   base64
   bigstringaf
   faraday
   dream-httpaf.dream-hpack
   dream-httpaf.dream-httpaf_
   psq
   result
  )))

(subdir h2/eio
 (library
  (name dream_h2_eio)
  (public_name dream-httpaf.dream-h2-eio)
  (libraries
   dream-httpaf.dream-gluten
   dream-httpaf.dream-gluten-eio
   eio
   dream-httpaf.dream-h2
  )))



(subdir paf/lib
 (library
  (name dream_paf)
  (public_name dream-mirage.dream-paf)
  (modules paf)
  (libraries
   faraday
   bigstringaf
   ke
   mimic
  )))

(subdir paf/lib
 (library
  (name dream_alpn)
  (public_name dream-mirage.dream-paf.alpn)
  (modules alpn)
  (libraries
   dream-mirage.dream-paf
   dream-httpaf.dream-httpaf_
   dream-httpaf.dream-h2
  )))

(subdir paf/lib
 (library
  (name dream_paf_mirage)
  (public_name dream-mirage.dream-paf.mirage)
  (modules paf_mirage)
  (libraries
   tcpip
   dream-mirage.dream-paf
   tls-mirage
   mirage-time
   dream-mirage.dream-paf.alpn
  )))
